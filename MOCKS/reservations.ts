import { Reservation } from "../types/reservation";

export const historicReservations: Reservation[] = [
  {
    counter: 5,
    status: "Brak potiwerdzenia płatności.",
    paymentUrl: "",
    reservationId: 25,
    objectId: 7,
    objectSlug: "object_www_6",
    objectName: "object name 1",
    clientId: 18,
    name: "name_17",
    surname: "surname_17",
    phone: "507507517",
    createdByName: "name_us_5",
    createdBySurname: "surname_us_5",
    createdByEmail: "username_5@teest.pl",
    payed: false,
    payedDesc: "Nie",
    price: 123.0,
    date: "2022-09-30",
    dayOfWeek: "Piątek",
    dateStart: "2022-09-30 09:30:00",
    dateStop: "2022-09-30 09:30:00",
    hourStart: "09:30",
    hourStop: "10:00",
    totalHours: 0.0,
    roomId: 1,
    roomName: "sala 1",
    createdAt: "2022-09-30 11:11:11",
    deleted: false,
    deletedAt: "",
  },
  {
    counter: 5,
    status: "Brak potiwerdzenia płatności.",
    paymentUrl: "",
    reservationId: 25,
    objectId: 7,
    objectSlug: "object_www_6",
    objectName: "object name 1",
    clientId: 18,
    name: "name_17",
    surname: "surname_17",
    phone: "507507517",
    createdByName: "name_us_5",
    createdBySurname: "surname_us_5",
    createdByEmail: "username_5@teest.pl",
    payed: false,
    payedDesc: "Nie",
    price: 123.0,
    date: "2022-09-30",
    dayOfWeek: "Piątek",
    dateStart: "2022-09-30 09:30:00",
    dateStop: "2022-09-30 09:30:00",
    hourStart: "09:30",
    hourStop: "10:00",
    totalHours: 0.0,
    roomId: 1,
    roomName: "sala 1",
    createdAt: "2022-09-30 11:11:11",
    deleted: false,
    deletedAt: "",
  },
  {
    counter: 5,
    status: "Brak potiwerdzenia płatności.",
    paymentUrl: "",
    reservationId: 25,
    objectId: 7,
    objectSlug: "object_www_6",
    objectName: "object name 1",
    clientId: 18,
    name: "name_17",
    surname: "surname_17",
    phone: "507507517",
    createdByName: "name_us_5",
    createdBySurname: "surname_us_5",
    createdByEmail: "username_5@teest.pl",
    payed: false,
    payedDesc: "Nie",
    price: 123.0,
    date: "2022-09-30",
    dayOfWeek: "Piątek",
    dateStart: "2022-09-30 09:30:00",
    dateStop: "2022-09-30 09:30:00",
    hourStart: "09:30",
    hourStop: "10:00",
    totalHours: 0.0,
    roomId: 1,
    roomName: "sala 1",
    createdAt: "2022-09-30 11:11:11",
    deleted: false,
    deletedAt: "",
  },
];

export const activeReservations: Reservation[] = [
  {
    counter: 1,
    status: "Brak potiwerdzenia płatności.",
    paymentUrl: "",
    reservationId: 21,
    objectId: 1,
    objectSlug: "object_www_1",
    objectName: "object name 1",
    clientId: 19,
    name: "name_19",
    surname: "surname_19",
    phone: "507507519",
    createdByName: "name_us_5",
    createdBySurname: "surname_us_5",
    createdByEmail: "username_5@teest.pl",
    payed: false,
    payedDesc: "Nie",
    price: 321.0,
    date: "2023-07-21",
    dayOfWeek: "Wtorek",
    dateStart: "2023-07-21 20:00:00",
    dateStop: "2023-07-21 20:00:00",
    hourStart: "20:00",
    hourStop: "21:00",
    totalHours: 0.0,
    roomId: 1,
    roomName: "Sala 1",
    createdAt: "2023-07-21 11:11:11",
    deleted: false,
    deletedAt: "",
  },
  {
    counter: 2,
    status: "Brak potiwerdzenia płatności.",
    paymentUrl: "",
    reservationId: 30,
    objectId: 7,
    objectSlug: "object_www_6",
    objectName: "object name 1",
    clientId: 18,
    name: "name_17",
    surname: "surname_17",
    phone: "507507517",
    createdByName: "name_us_5",
    createdBySurname: "surname_us_5",
    createdByEmail: "username_5@teest.pl",
    payed: false,
    payedDesc: "Nie",
    price: 321.0,
    date: "2023-07-22",
    dayOfWeek: "Wtorek",
    dateStart: "2023-07-22 10:30:00",
    dateStop: "2023-07-22 10:30:00",
    hourStart: "10:30",
    hourStop: "11:30",
    totalHours: 0.0,
    roomId: 1,
    roomName: "Sala 1",
    createdAt: "2023-07-22 11:11:11",
    deleted: false,
    deletedAt: "",
  },
];

export const removedReservations: Reservation[] = [
  {
    counter: 1,
    status: "Rezerwacja usunięta!",
    paymentUrl: "",
    reservationId: 4,
    objectId: 7,
    objectSlug: "object_www_6",
    objectName: "object name 1",
    clientId: 18,
    name: "name_17",
    surname: "surname_17",
    phone: "507507517",
    createdByName: "name_us_5",
    createdBySurname: "surname_us_5",
    createdByEmail: "username_5@teest.pl",
    payed: false,
    payedDesc: "Nie",
    price: 321.0,
    date: "2022-10-04",
    dayOfWeek: "Wtorek",
    dateStart: "2022-10-04 12:00:00",
    dateStop: "2022-10-04 12:00:00",
    hourStart: "12:00",
    hourStop: "13:00",
    totalHours: 0.0,
    roomId: 1,
    roomName: "Sala 1",
    createdAt: "2022-10-04 11:11:11",
    deleted: true,
    deletedAt: "2022-10-04 12:11:11",
  },
  {
    counter: 2,
    status: "Rezerwacja usunięta!",
    paymentUrl: "",
    reservationId: 29,
    objectId: 7,
    objectSlug: "object_www_6",
    objectName: "object name 1",
    clientId: 18,
    name: "name_17",
    surname: "surname_17",
    phone: "507507517",
    createdByName: "name_us_5",
    createdBySurname: "surname_us_5",
    createdByEmail: "username_5@teest.pl",
    payed: false,
    payedDesc: "Nie",
    price: 123.0,
    date: "2022-09-27",
    dayOfWeek: "Wtorek",
    dateStart: "2022-09-27 07:30:00",
    dateStop: "2022-09-27 07:30:00",
    hourStart: "07:30",
    hourStop: "08:00",
    totalHours: 0.0,
    roomId: 1,
    roomName: "Sala 1",
    createdAt: "2022-09-27 11:11:11",
    deleted: true,
    deletedAt: "2022-10-04 12:11:11",
  },
];

export const splitReservationsByDate = (
  reservations: Reservation[],
): { date: string; content: Reservation[] }[] => {
  const reservationsByDate: any = {};

  reservations.forEach((reservation) => {
    const date = reservation.date;
    if (!reservationsByDate[date]) {
      reservationsByDate[date] = [];
    }
    reservationsByDate[date].push(reservation);
  });

  return Object.entries(reservationsByDate).map(([date, content]) => ({
    date,
    content,
  }));
};

// Split reservations by date with date and content as array

const returnFlatList = (reservations: any): Reservation[] => {
  const reservationList = [];
  reservations.forEach(({ date, content }) => {
    reservationList.push({ date, isDate: true });
    reservationList.push(...content);
    reservationList.push(...content);
    reservationList.push(...content);
    reservationList.push(...content);
    reservationList.push(...content);
  });

  return reservationList as Reservation[];
};

export const MyHistoricReservations = returnFlatList(
  splitReservationsByDate(historicReservations),
);

export const MyActiveReservations = returnFlatList(
  splitReservationsByDate(activeReservations),
);
export const MyRemovedReservations = returnFlatList(
  splitReservationsByDate(removedReservations),
);
